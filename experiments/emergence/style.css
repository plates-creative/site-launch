:root{
  --pink:#FF3EB5;
  --black:#181818;
  --white:#DBDBDB;

  --ui-gap: 14px;
  --icon: 24px;

    /* Margins */
  --edge-desktop: 20px;
  --edge-mobile: 16px;

  --text-color: #DBDBDB;
}

:root { --info-band: rgba(0,0,0,0.55); }
body[data-theme="pink"] { --info-band: rgba(255,62,181,0.35); }
body[data-theme="white"] { --info-band: rgba(248,247,243,0.75); }
body[data-theme="black"] { --info-band: rgba(0,0,0,0.55); }

.info-fade { background: linear-gradient(to bottom, var(--info-band), rgba(0,0,0,0)); }


/* Page */
html, body{
  height:100%;
  width:100%;
  margin:0;
  overflow:hidden;
  background-color: var(--black); /* JS will keep this in sync too */
  font-family: "owners", sans-serif;
}

/* Smooth theme transitions */
body{
  transition: background-color 260ms ease;
}
.logo, .icon-btn{
  transition: color 260ms ease;
}

/* Main stage */
.stage{
  position:relative;
  height:100dvh;
  width:100vw;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: filter 400ms ease, transform 400ms ease;
}

/* Canvas holder is dead-center */
.sketch-holder{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none; /* controls should be tappable */
}

/* Let the canvas be responsive */
.sketch-holder canvas{
  display:block;
  max-width: 90vmin;
  max-height: 90vmin;
  transform-origin: 50% 50%;
  will-change: transform;
  animation: spin 28s linear infinite;
  pointer-events: none;
}

canvas {
  background: transparent;
}

@keyframes spin{
  from{ transform: rotate(0deg); }
  to{ transform: rotate(360deg); }
}

/* Base inline SVG: no forced size */
.svg-icon{
  display:block;
}

/* Control icons are 24px */
.controls .svg-icon{
  width: var(--icon);
  height: var(--icon);
}

/* Logo is independently sized */
.logo .svg-icon{
  height: 26px;   /* tweak to taste */
  width: auto;
  opacity: 0.95;
}



/* LEFT logo */
.logo{
  position:fixed;
  left: var(--edge-desktop);
  top: 50%;
  transform: translateY(-50%);
  z-index:10;
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
}


/* RIGHT controls */
.controls{
  position: fixed;
  right: var(--edge-desktop);
  top: var(--edge-desktop);
  bottom: var(--edge-desktop);

  z-index: 10;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;

  /* remove these if present */
  height: auto;
  padding: 0;
}


.controls .top{
  align-self: center;
}

.controls .mid-stack{
  align-self: center;
}

.controls .bottom{
  align-self: center;
}



.mid-stack{
  display:flex;
  flex-direction:column;
  gap: var(--ui-gap);
}

.icon-btn{
  appearance:none;
  border:0;
  background: transparent;
  cursor:pointer;
  line-height:0;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:1;
  color: var(--black);
  width: 40px;
  height: 40px;
}

.icon-btn:active{ transform: scale(0.98); }
.icon-btn:hover{ opacity:1; }

/* Volume toggle: stack the two icons and only show one */
.icon-volume{ position: relative;}

/* Both icons occupy the same 24px space */
.icon-volume .svg-on,
.icon-volume .svg-off{
  position: absolute;
  inset: 0;
  margin: auto;
}

/* Default: sound ON visible */
.icon-volume .svg-off{ opacity: 0; }
.icon-volume .svg-on { opacity: 1; }

/* Muted state toggled by JS */
.icon-volume.is-muted .svg-off{ opacity: 1; }
.icon-volume.is-muted .svg-on { opacity: 0; }

.icon-volume .svg-icon{
  transition: opacity 200ms ease;
}


/* (Optional) subtle “feel” on hover without looking button-y */
@media (hover: hover) and (pointer: fine) {
  .icon-btn:hover,
  .logo:hover {
    transition: color 200ms ease;
  }
}


/* Responsive: on narrow screens, tuck logo up a bit or shrink */
@media (max-width: 640px){
  :root{
    --icon: 24px;
  }
  .logo .svg-icon{
    height: 22px;
  }
  .sketch-holder canvas{
    max-width: 92vmin;
    max-height: 92vmin;
  }
}

/* ---------------- */
/* BLACK BACKGROUND */
/* ---------------- */
body[data-theme="black"] {
  background-color: #181818;
}

body[data-theme="black"] .icon-logo,
body[data-theme="black"] .icon-randomize,
body[data-theme="black"] .icon-color,
body[data-theme="black"] .icon-volume {
  color: #DBDBDB;
}

body[data-theme="black"] .icon-save,
body[data-theme="black"] .icon-info,
body[data-theme="black"] .icon-btn.top {
  color: #FF3EB5;
}

/* BLACK THEME HOVERS */
@media (hover: hover) and (pointer: fine) {
  body[data-theme="black"] .icon-logo:hover,
  body[data-theme="black"] .icon-randomize:hover,
  body[data-theme="black"] .icon-color:hover,
  body[data-theme="black"] .icon-volume:hover {
    color: #FF3EB5; /* white -> pink */
  }

  body[data-theme="black"] .icon-save:hover,
  body[data-theme="black"] .icon-info:hover,
  body[data-theme="black"] .icon-btn.top:hover {
    color: #DBDBDB; /* pink -> white */
  }
}

/* ---------------- */
/* PINK BACKGROUND */
/* ---------------- */
body[data-theme="pink"] {
  background-color: #FF3EB5;
}

body[data-theme="pink"] .icon-logo,
body[data-theme="pink"] .icon-randomize,
body[data-theme="pink"] .icon-color,
body[data-theme="pink"] .icon-volume,
body[data-theme="pink"] .icon-save,
body[data-theme="pink"] .icon-info,
body[data-theme="pink"] .icon-btn.top {
  color: #181818;
}

/* PINK THEME HOVERS */
@media (hover: hover) and (pointer: fine) {
  body[data-theme="pink"] .logo:hover,
  body[data-theme="pink"] .icon-btn:hover {
    color: #DBDBDB;
  }
}

/* ---------------- */
/* WHITE BACKGROUND */
/* ---------------- */
body[data-theme="white"] {
  background-color: #DBDBDB;
}

body[data-theme="white"] .icon-logo,
body[data-theme="white"] .icon-randomize,
body[data-theme="white"] .icon-color,
body[data-theme="white"] .icon-volume,
body[data-theme="white"] .icon-save,
body[data-theme="white"] .icon-info,
body[data-theme="white"] .icon-btn.top {
  color: #181818;
}


/* WHITE THEME HOVERS */
@media (hover: hover) and (pointer: fine) {
  body[data-theme="white"] .logo:hover,
  body[data-theme="white"] .icon-btn:hover {
    color: #FF3EB5;
  }
}

/* Mobile + vertical tablet layout:
   - Logo top center
   - Controls become bottom nav (info left, randomize/color center, save right)
*/
@media (max-width: 1024px) and (orientation: portrait){
  /* Logo -> top center */
  .logo{
    left: 50%;
    top: var(--edge-mobile);
    transform: translateX(-50%);
  }

  /* Controls -> bottom bar */
  .controls{
    right: 0;
    left: 0;
    bottom: var(--edge-mobile);
    top: auto;

    height: auto;
    width: auto;
    box-sizing: border-box;

    flex-direction: row;
    justify-content: space-between;
    align-items: center;

    padding-left: max(var(--edge-mobile), env(safe-area-inset-left));
    padding-right: max(var(--edge-mobile), env(safe-area-inset-right));
    padding-bottom: env(safe-area-inset-bottom);

  }

  /* Middle stack becomes horizontal */
  .mid-stack{
    flex-direction: row;
    gap: var(--ui-gap);
  }

  /* Optional: keep the canvas clear of the bottom bar + top logo */
  .sketch-holder canvas{
    max-width: min(92vw, calc(100dvh - 160px));
    max-height: min(92vw, calc(100dvh - 160px));
  }
}

  /* Info overlay stuff */

.info-text {
  font-size: 3rem;
  color: var(--text-color);
  line-height: 93%;
  letter-spacing: 1px;
  transition: color 260ms ease;
  margin-top: 10%;
}

@media (max-width: 640px){
 .info-text{
   font-size: 2.1rem;
   line-height: 100%;
 }


}

/* Sharpened layer stays “real” */
.info-text--sharp{
  position: relative;
  z-index: 2;
}

/* Blurred duplicate sits behind + only appears near top/bottom */
.info-text--blur{
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1;
  pointer-events: none;

  filter: blur(1.25px);
  opacity: 0.55;
  transform: translateZ(0);

  /* reveal blur only at top + bottom */
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0,0,0,1) 0%,
    rgba(0,0,0,0) 18%,
    rgba(0,0,0,0) 82%,
    rgba(0,0,0,1) 100%
  );
  mask-image: linear-gradient(
    to bottom,
    rgba(0,0,0,1) 0%,
    rgba(0,0,0,0) 18%,
    rgba(0,0,0,0) 82%,
    rgba(0,0,0,1) 100%
  );
}

/* When info overlay is open, hide the info icon (prevents overlap) */
body.info-open .icon-info {
  opacity: 0;
  pointer-events: none;
}

/* Default: close is hidden */
.info-close {
  opacity: 0;
  pointer-events: none;
}

/* When open: close is visible/clickable */
body.info-open .info-close {
  opacity: 1;
  pointer-events: auto;
}

/* Text color by theme */
body[data-theme="black"] { --text-color: #DBDBDB; } /* or #fff if you truly want white */
body[data-theme="pink"]  { --text-color: #DBDBDB; } /* per your spec: white */
body[data-theme="white"] { --text-color: #181818; }

.info-shell {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  padding: var(--edge-desktop);
}

@media (max-width: 1024px) {
  .info-shell { padding: var(--edge-mobile); }
}

.info-scroll {
  width: min(60vw, 820px);
  height: calc(100vh - (var(--edge-desktop) * 2));
  overflow: auto;
  position: relative;
  padding: 28px 28px 40px;
  z-index: 1;
  margin-left: auto;
  margin-right: 7%;
}
@media (max-width: 1024px) {
  .info-scroll {
    width: 100%;
    height: calc(100vh - (var(--edge-mobile) * 2));
    padding: 22px 18px 34px;
  }
}

.info-close {
  position: fixed;          /* key change */
  top: var(--edge-desktop);
  right: var(--edge-desktop);
  z-index: 1002;            /* above overlay content */
}

@media (max-width: 1024px) {
  .info-close {
    top: var(--edge-mobile);
    right: var(--edge-mobile);
  }
}

/* set per theme if you want, but start here */
:root{
  --fade-tint: rgba(0,0,0,0.18); /* was probably too strong */
  --fade-blur: 10px;            /* 8–14 is the sweet spot */
}

.info-fade{
  position:absolute;
  left:0; right:0;
  height:110px;
  pointer-events:none;
  z-index:5;

  background: var(--fade-tint);
  backdrop-filter: blur(var(--fade-blur));
  -webkit-backdrop-filter: blur(var(--fade-blur));

  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
          mask-image: linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
}

.info-fade-top{ top:0; }
.info-fade-bottom{ bottom:0; transform: rotate(180deg); }

.info-fade{
  background: linear-gradient(to bottom, var(--info-fade), rgba(0,0,0,0));
}
body[data-theme="black"]{ --info-fade: rgba(0,0,0,0.55); }
body[data-theme="pink"] { --info-fade: rgba(0,0,0,0.55); }
body[data-theme="white"]{ --info-fade: rgba(248,247,243,0.80); } /* your DBDBDB-ish vibe */


.info-fade-top{
  top: 0;
}

.info-fade-bottom{
  bottom: 0;
  transform: rotate(180deg);
}

/* ---------- INFO OVERLAY (duplicated text approach) ---------- */

.info-overlay{
  position: fixed;
  inset: 0;
  z-index: 50;
  display: none;
  pointer-events: none;
}

.info-overlay.is-open{
  display: block;
  pointer-events: auto;
}

/* dim + blur the stage underneath (optional, keep if you liked it) */
.info-overlay.is-open ~ .stage{
  filter: blur(10px);
}

/* duplicated layers */
.info-stack{
  width: 60%;
  max-width: 900px;
}

@media (max-width: 1024px){
  .info-stack{
    width: 100%;
  }
}

.info-layer{
  font-size: clamp(36px, 6vw, 88px);
  line-height: 1.02;
  letter-spacing: -0.02em;
}

/* blur layer sits behind */
.info-layer.blur{
  position: absolute;
  top: 0;
  left: 0;
  width: 60%;
  max-width: 900px;
  filter: blur(1px);
  opacity: 0.55;
  pointer-events: none;
}

@media (max-width: 1024px){
  .info-layer.blur{
    width: 100%;
  }
}

/* sharp layer in normal flow to drive height/scroll */
.info-layer.sharp{
  position: relative;
}

/* progressive top/bottom fades */
.info-scroll::before,
.info-scroll::after{
  content: "";
  position: fixed;
  left: 0;
  right: 0;
  height: 140px;
  pointer-events: none;
  z-index: 60;
}

.info-scroll::before{
  top: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,0.85), rgba(0,0,0,0));
}

.info-scroll::after{
  bottom: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.85), rgba(0,0,0,0));
}

/* theme-aware text color */
body[data-theme="black"] .info-layer{ color: #fff; }
body[data-theme="pink"]  .info-layer{ color: #fff; }
body[data-theme="white"] .info-layer{ color: #181818; }

/* theme-aware fade colors */
body[data-theme="black"] .info-scroll::before,
body[data-theme="black"] .info-scroll::after{ background-color: transparent; }

body[data-theme="pink"] .info-scroll::before{
  background: linear-gradient(to bottom, rgba(255,62,181,0.85), rgba(255,62,181,0));
}
body[data-theme="pink"] .info-scroll::after{
  background: linear-gradient(to top, rgba(255,62,181,0.85), rgba(255,62,181,0));
}

body[data-theme="white"] .info-scroll::before{
  background: linear-gradient(to bottom, rgba(219,219,219,0.92), rgba(219,219,219,0));
}
body[data-theme="white"] .info-scroll::after{
  background: linear-gradient(to top, rgba(219,219,219,0.92), rgba(219,219,219,0));
}


